<p id="notice"><%= notice %></p>

<h1>Posts - Ajax</h1>

<!-- busqueda -->
<div>
  <%= form_tag( posts_path, method: "get", remote: true) do %>
    <%= text_field_tag :search, params[:search], placeholder:"Buscar post" %>
    <%= submit_tag "Buscar" %>
    <hr>
  <% end %>
</div>
<!--fin busqueda -->

<button type="button" class="btn btn-primary" data-toogle="modal" data-target="#modalNewPost">Agregar post</button>


<%= form_with(model: @post, remote: true) do |form| %>

  <div class="modal" id="modalNewPost" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-success">
            <h2 class="modal-title">Nuevo Post</h2>
        </div>

        <div class="modal-body">
        
  <div class="form-group">
    <%= form.label :title %>
    <%= form.text_field :title, :class =>"form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :content %>
    <%= form.text_area :content, :class =>"form-control" %>
  </div>
</div>



        </div class="modal-footer">
              <%= form.submit "Guardar", :class =>"btn btn-secondary" %>
        </div>


      </div>

    </div>
  </div>




<% end %>

<hr>
<!--
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Content</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @posts.each do |post| %>
      <tr>
        <td><%= post.title %></td>
        <td><%= post.content %></td>
        <td><%= link_to 'Show', post %></td>
        <td><%= link_to 'Edit', edit_post_path(post) %></td>
        <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
-->
<br>

<h2>Listado ajax</h2>
<div id="container_post">

  <%= render @posts %>

</div>

<%= link_to 'New Post', new_post_path %>
